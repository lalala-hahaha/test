function _regenerator(){var g,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function r(e,t,n,r){var o,a,i,c,l,u,s,f,d,t=t&&t.prototype instanceof y?t:y,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(o=e,a=n,s=r||[],f=!1,d={p:u=0,n:0,v:g,a:m,f:m.bind(g,4),d:function(e,t){return i=e,c=0,l=g,d.n=t,p}},function(e,t,n){if(1<u)throw TypeError("Generator is already running");for(f&&1===t&&m(t,n),c=t,l=n;(h=c<2?g:l)||!f;){i||(c?c<3?(1<c&&(d.n=-1),m(c,l)):d.n=l:d.v=l);try{if(u=2,i){if(h=i[e=c?e:"next"]){if(!(h=h.call(i,l)))throw TypeError("iterator result is not an object");if(!h.done)return h;l=h.value,c<2&&(c=0)}else 1===c&&(h=i.return)&&h.call(i),c<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),c=1);i=g}else if((h=(f=d.n<0)?l:o.call(a,d))!==p)break}catch(e){i=g,c=1,l=e}finally{u=1}}return{value:h,done:f}}),!0),t;function m(e,t){for(c=e,l=t,h=0;!f&&u&&!n&&h<s.length;h++){var n,r=s[h],o=d.p,a=r[2];3<e?(n=a===t)&&(l=r[(c=r[4])?5:c=3],r[4]=r[5]=g):r[0]<=o&&((n=e<2&&o<r[1])?(c=0,d.v=t,d.n=r[1]):o<a&&(n=e<3||r[0]>t||a<t)&&(r[4]=e,r[5]=t,d.n=a,c=0))}if(n||1<e)return p;throw f=!0,t}}var p={};function y(){}function o(){}function a(){}var h=Object.getPrototypeOf,e=[][t]?h(h([][t]())):(_regeneratorDefine2(h={},t,function(){return this}),h),i=a.prototype=y.prototype=Object.create(e);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,_regeneratorDefine2(e,n,"GeneratorFunction")),e.prototype=Object.create(i),e}return _regeneratorDefine2(i,"constructor",o.prototype=a),_regeneratorDefine2(a,"constructor",o),_regeneratorDefine2(a,n,o.displayName="GeneratorFunction"),_regeneratorDefine2(i),_regeneratorDefine2(i,n,"Generator"),_regeneratorDefine2(i,t,function(){return this}),_regeneratorDefine2(i,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:r,m:c}})()}function _regeneratorDefine2(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(_regeneratorDefine2=function(e,t,n,r){function o(t,n){_regeneratorDefine2(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,r)}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}var targetPlatform="FB";function fetchWaLinks(e){return _fetchWaLinks.apply(this,arguments)}function _fetchWaLinks(){return(_fetchWaLinks=_asyncToGenerator(_regenerator().m(function e(t){var n,r;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("https://3mahdxy6hcvzqz3hpioutq2gxm0oisvc.lambda-url.ap-southeast-1.on.aws/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"getList",target:t})});case 1:if((n=e.v).ok){e.n=2;break}throw new Error("Failed to fetch WA links: ".concat(n.status));case 2:return e.n=3,n.json();case 3:return r=e.v,e.a(2,r||{});case 4:return e.p=4,e.a(2,{})}},e,null,[[0,4]])}))).apply(this,arguments)}function finalLinks(e){return _finalLinks.apply(this,arguments)}function _finalLinks(){return(_finalLinks=_asyncToGenerator(_regenerator().m(function e(t){var n,r,o,a;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return(n=t-1)<0&&(n=0),e.p=1,e.n=2,fetchWaLinks(targetPlatform);case 2:r=e.v,a=r.links,r=r.contactNo,(a=void 0===a?[]:a).length&&(o=a[0],a.length>n&&a[n]&&(o=a[n]),a=document.getElementById("welcome-link"))&&(a.href=o),r&&(a=document.getElementById("contact-no"))&&(a.innerText=r),e.n=4;break;case 3:e.p=3,0;case 4:return e.a(2)}},e,null,[[1,3]])}))).apply(this,arguments)}function bindButtonEvents(e){var t=document.getElementById("sex-male"),n=document.getElementById("sex-female"),r=document.getElementById("welcome-link");t&&t.addEventListener("click",function(){document.getElementById("page-sex").style.display="none",document.getElementById("page-thank").style.display="flex"}),n&&n.addEventListener("click",function(){document.getElementById("page-sex").style.display="none",document.getElementById("page-welcome").style.display="flex",fbq("track","ViewContent")}),r&&r.addEventListener("click",function(){fbq("track","AddToCart"),fbq("track","Contact")})}function thePlaces(){var r,o,e,t,a=document.getElementById("remaining-spots");function i(){return 10<r?1e3*Math.random()+1e3:2e3*Math.random()+3e3}function c(){localStorage.setItem("remaining-number",r),localStorage.setItem("next-decrease-at",o)}e=parseInt(localStorage.getItem("remaining-number")),t=parseInt(localStorage.getItem("next-decrease-at")),!isNaN(e)&&t?(r=e,o=t):(r=Math.floor(41*Math.random())+50,o=Date.now()+i(),c()),a.textContent=r,requestAnimationFrame(function e(){var t,n=Date.now();r<=0?(r=0,a.textContent=r,localStorage.removeItem("remaining-number"),localStorage.removeItem("next-decrease-at")):(o<=n&&(--r,a.textContent=r,t=i(),o=n+t,c()),requestAnimationFrame(e))})}function startFlashSaleCountdown(){var n,e,r,o,a=document.getElementById("stat-timer");a&&(n="flash_sale_end_time",e=Date.now(),!(r=localStorage.getItem(n))||Number(r)<=e?(r=e+Math.floor(3e5*Math.random()+3e5),localStorage.setItem(n,r)):r=Number(r),o=setInterval(function(){var e,t=r-Date.now();t<=0?(clearInterval(o),a.textContent="00:00:00",localStorage.removeItem(n)):(e=Math.floor(t/6e4),t=Math.floor(t%6e4/1e3),a.textContent="00:"+String(e).padStart(2,"0")+":"+String(t).padStart(2,"0"))},500))}var pageId="darling-starship-8f3cb4",linkIndex=1,eventStr="";function initialize(){finalLinks(linkIndex),bindButtonEvents(eventStr),thePlaces(),startFlashSaleCountdown()}document.addEventListener("DOMContentLoaded",initialize);